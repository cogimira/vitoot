### HTTP缓存优化
#### cache-control 标定谁在什么条件下可以缓存以及缓存多久

> no-cache 

    1.表示必须和服务器确定资源是否发生了变化
    2.如果存在验证令牌ETag,则如果资源未发生变化可以避免重复下载

> no-store 

    1.禁止任何中间缓存储存任何版本的返回信息
    2.每次请求都会发送完整的请求

> public

    1.即使请求响应有关联的HTTP验证信息，也可以缓存响应

> private

    1.不允许任何中间缓存对其进行缓存
    2.比如浏览器可以缓存用户私人信息的html网页，但是cdn却不能缓存

> max-age

    1.设置重用的最长时间

#### ETag

    1.验证令牌，当服务器上的资源未发生变化时，就不需要传送相同的字节


### 缓存的层次结构

- HTML 被标记为“no-cache”，这意味着浏览器在每次请求时都始终会重新验证文档，并在内容变化时提取最新版本。 此外，在 HTML 标记内，您在 CSS 和 JavaScript 资产的网址中嵌入指纹：如果这些文件的内容发生变化，网页的 HTML 也会随之改变，并会下载 HTML 响应的新副本。

- 允许浏览器和中间缓存（例如 CDN）缓存 CSS，并将 CSS 设置为 1 年后到期。 请注意，您可以放心地使用 1 年的“远期过期”，因为您在文件名中嵌入了文件的指纹：CSS 更新时网址也会随之变化。

- JavaScript 同样设置为 1 年后到期，但标记为 private，这或许是因为它包含的某些用户私人数据是 CDN 不应缓存的。

- 图像缓存时不包含版本或唯一指纹，并设置为 1 天后到期。